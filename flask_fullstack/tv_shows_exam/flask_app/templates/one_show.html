<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <div class='container'>
        <a href="/logout">Logout</a>
        <a href="/dashboard">Home</a>
        <h1>Title: {{this_show.title}}</h1>
        <h3>Network: {{this_show.network}}</h3>
        <h3>Description: {{this_show.description}}</h3>
        <h3>Release Date: {{this_show.release_date}}</h3>
        <h3>Posted By: {{this_show.user_who_posted.first_name}} {{this_show.user_who_posted.last_name}}</h3>


        <!-- DISPLAYING ALL USERS THAT HAVE LIKED THIS INDIVIDUAL TV SHOW -->
        {% for user in this_show.users_who_like %}
            <p>{{user.first_name}} {{user.last_name}}</p>
        {%endfor%}
        <p>{{this_show.users_who_like}}</p>

        <!-- DOING AN IF CHECK TO SEE IF THE LOGGED IN USERS ID IS IN THE LIST I CREATED IN THE MODELS CALLED USERS WHO LIKE BASED ON THAT I DISPLAY THE LIKE OR UNLIKE BUTTON -->
        {% for user in this_show.users_who_like %}
            {% if user.id == session['user_id'] %}
                <a href="/unlike/{{this_show.id}}">Unlike</a>
            {%else%}
                <a href="/add_like/{{this_show.id}}">Like</a>
            {% endif %}
        {%endfor%}
    </div>

<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js'></script>
</body>
</html>